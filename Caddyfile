# /Caddyfile
{
	# Optional: Configure logging if needed
	# log {
	#	output stderr
	# }
}

# Define the main site block listening on the port Railway provides ($PORT)
http://:{$PORT} {
	# Reverse proxy all requests to the internal jupyter-ipfs service.
	# Use the environment variable injected by Railway.
	# Port 4001 is the internal IPFS WS port.
	# --- MODIFIED LINE: Removed http:// ---
	reverse_proxy {env.JUPYTER_IPFS_PRIVATE_HOST}:4001
	# --- END MODIFIED LINE ---
}
